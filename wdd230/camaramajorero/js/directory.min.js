function filter(){let e=document.querySelector("#sector"),t=e.options[e.selectedIndex].text;document.querySelectorAll(".item").forEach(e=>{e.classList.contains(t)||""==t?"block"==localStorage.getItem("show")?e.style.display="block":e.style.display="grid":e.style.display="none"})}window.addEventListener("DOMContentLoaded",function(){document.querySelector("#list").addEventListener("click",function(){document.querySelector("#gridlist").classList.remove("grid"),document.querySelectorAll(".item").forEach(function(e){e.style.display="grid"}),localStorage.setItem("show","grid"),filter()}),document.querySelector("#grid").addEventListener("click",function(){document.querySelector("#gridlist").classList.add("grid"),document.querySelectorAll(".item").forEach(function(e){e.style.display="block"}),localStorage.setItem("show","block"),filter()})});const businessURL="js/business.json";let sectors=[];fetch(businessURL).then(function(e){return e.json()}).then(function(e){document.querySelector("#sector");e.business.forEach(e=>{let t=document.createElement("article");t.classList.add("item"),t.classList.add(e.sector);let n=document.createElement("div");n.innerHTML=`<img src="images/${e.logo}" alt="Logo de ${e.name}">`,t.appendChild(n);let o=document.createElement("div"),r=document.createElement("h3");r.textContent=e.name,o.appendChild(r);let c=document.createElement("p");c.innerHTML=`${e.phone}<br>${e.email}<br><a href="${e.web}" rel="noreferrer" target="_blank" aria-label="Visita la pagina de ${e.name}">website</a><br>${e.address}<br>${e.sector}<br>`,o.appendChild(c),t.appendChild(o),document.querySelector("#gridlist").appendChild(t);let l=e.sector;sectors.includes(l)||sectors.push(l)});let t=document.querySelector("#sector");t.add(document.createElement("option")),sectors.forEach(e=>{var n=document.createElement("option");n.text=e,t.add(n)})});